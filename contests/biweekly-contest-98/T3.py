# -*- coding: utf-8 -*-

"""
@File    : T3.py
@Author  : wenhao
@Time    : 2023/2/18 22:20
@LC      : 2568
"""
from typing import List


class Solution:
    # æˆ–è¿ç®— è¶Šæˆ–è¶Šå¤§ ğŸ˜‚ æˆ–è¿ç®—æ˜¯æœ€æœ‰é­…åŠ›çš„è¿ç®— ğŸ˜Šâ¤ï¸
    # ä»ç ”ç©¶ 1 å¾—åˆ°ç»“è®º
    # å¦‚æœä¸€ä¸ªæ•°åªæœ‰ä¸€ä¸ª bit ä½æ˜¯ 1 çš„è¯
    # å¹¶ä¸” è¿™äº›åªæœ‰ä¸€ä½æ˜¯ 1 çš„æ•°å¯ä»¥æˆ–å‡ºå…¶ä»–æ•°å­—
    # æ¯”å¦‚ 1=0001 2=0010 4=0100 å¯ä»¥æˆ–å‡º 0-7 ä»»æ„æ•°å­—
    # æ‰€ä»¥ ç­”æ¡ˆå°±æ˜¯ ç¼ºå¤±çš„æœ€å°çš„ 2 çš„å¹‚

    # optimize
    # åªç”¨ä¿å­˜ 2 çš„å¹‚æ¬¡ æ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°æ¥å­˜
    # ç©ºé—´ä¼˜åŒ–åˆ°äº† O1
    # ç¼ºå¤±çš„ 2 çš„å¹‚æ¬¡å¯¹åº” è¯¥æ•°ä»ä½åˆ°é«˜çš„ç¬¬ä¸€ä¸ª 0 å³ä¸ºå–ååçš„ lowbit
    def minImpossibleOR(self, nums: List[int]) -> int:
        mask = 0
        for n in nums:
            if (n & (n - 1)) == 0:  # åˆ¤æ–­æ˜¯ä¸æ˜¯ 2 çš„å¹‚
                mask |= n  # è®°å½• 1 æ‰€åœ¨çš„ä½
        mask = ~mask  # å–å
        return mask & -mask  # è®¡ç®— lowbit

    # æ—¶é—´ n + log max(num)
    # ç©ºé—´ n
    def minImpossibleOR1(self, nums: List[int]) -> int:
        # ç”¨ hashmap ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦
        s = set(nums)
        for i in range(32):
            if 1 << i not in s:  # å¯»æ‰¾ç¬¬ä¸€ä¸ªä¸åœ¨æ•°ç»„ä¸­çš„ 2 çš„å¹‚
                return 1 << i  # å¿«é€Ÿè®¡ç®— 2 çš„å¹‚


